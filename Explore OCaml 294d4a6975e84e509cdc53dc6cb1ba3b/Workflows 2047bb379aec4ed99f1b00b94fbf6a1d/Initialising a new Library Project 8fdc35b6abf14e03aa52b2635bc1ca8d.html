<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <title>Initialising a new Library Project 8fdc35b6abf14e03aa52b2635bc1ca8d
  </title>
  <link rel="stylesheet"
   href="https://fonts.googleapis.com/css2?family=Roboto+Mono&amp;family=Ubuntu:ital,wght@0,400;0,700;1,400&amp;display=swap"
   />
  <link rel="stylesheet" href="../../main.css"/>
  <link rel="stylesheet"
   href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/styles/gruvbox-dark.min.css"
   />
  <script
   src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/highlight.min.js"
   >
  </script>
  <script charset="UTF-8"
   src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/languages/ocaml.min.js"
   >
  </script><script>hljs.initHighlightingOnLoad();</script>
 </head>
 <body>
             
  <div style="display: flex; justify-content: center; align-content: center">
   
           
   <div style="max-width: 800px">
                                           
    <h1>Initialising a new Library/Project</h1>
<p>Platform: ../Meet%20the%20tools%20c2a8723e00364f7b84870dd39706de39/dune%207063fd3c0d5d4074b7a5c0d97933149c.md
REMOVE ME: Drafted: No
Short Description: Build the scaffolding for your solution to a problem
Users: ../Archetypical%20Users%20e3ac9b12886f4eb382d8d03da27ab6ff/Library%20Authors%2033d664dd3a4d487a9f707092c9bd4b6b.md</p>
<h3>Who is it for and why?</h3>
<hr />
<p>Getting started with a project should be simple - ideally a single command would initialise some kind of wizard to guide you through setting a project up. Much like the <code>npm init</code> command which takes answers to populate the <code>package.json</code> file.</p>
<p>This is important because it is very easy to make mistakes in setting up a repository for a new project and the ideal workflow for a library author would to start writing code almost immediately.</p>
<h3>Tools</h3>
<hr />
<p><a href="../Meet%20the%20tools%20c2a8723e00364f7b84870dd39706de39/dune%207063fd3c0d5d4074b7a5c0d97933149c.html">dune</a></p>
<p><a href="../opam%20client%20af5eb8b02bdf4c17931004d79002243e.html">opam client</a></p>
<h3>How to use it in practice</h3>
<hr />
<p>Dune is the best tool for doing something like this (although AFAIK there's no out-of-the-box support for initialising this with opam integration).</p>
<p>Dune Terminology:</p>
<p><a href="https://dune.readthedocs.io/en/stable/overview.html">Overview - dune documentation</a></p>
<p>The key ones include:</p>
<ul>
<li><strong>package</strong> - a package is a set of libraries, executables, â€¦ that are built and installed as one by opam.
</li>
<li><strong>project</strong> - a project is a source tree, maybe containing one or more packages
</li>
<li><strong>workspace</strong> - the workspace is the subtree starting from the root. It can contain any number of projects that will be built simultaneously by dune.
</li>
</ul>
<p>From the documentation:</p>
<blockquote>
<p><code>dune init</code> can be used to quickly add new projects, libraries, tests, or executables without having to manually create dune files, or it can be composed to programmatically generate parts of a multi-component project.</p>
</blockquote>
<hr />
<p>All in all I think the terminoloygy and documentation is a little confusing for the following reasons:</p>
<ol>
<li>
<p>The terms are all quite overloaded and finding the terminology page on the <em>readthedocs</em> page is not easy... for instance &quot;I want to build a new OCaml project&quot; <code>===</code> &quot;I want to build <em>a source tree containing one or more packages which can be built and installed as one by opam&quot;</em>?</p>
<p><a href="https://dune.readthedocs.io/en/stable/">Welcome to dune's documentation! - dune documentation</a></p>
</li>
<li>
<p>From the definition of <strong>package and then reference in project</strong> it feels like there is a very tight coulpling between opam and dune. Whilst there is a good integration I believe the two are flexible enought to use separately, and powerful when combined.</p>
</li>
</ol>

    
            
   </div>
               
  </div>
            
          
        </body>
</html>
