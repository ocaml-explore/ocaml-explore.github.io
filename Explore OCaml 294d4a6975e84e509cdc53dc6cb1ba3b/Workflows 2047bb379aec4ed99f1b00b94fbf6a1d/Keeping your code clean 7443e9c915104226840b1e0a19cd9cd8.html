<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <title>Keeping your code clean 7443e9c915104226840b1e0a19cd9cd8</title>
  <link rel="stylesheet"
   href="https://fonts.googleapis.com/css2?family=Roboto+Mono&amp;family=Ubuntu:ital,wght@0,400;0,700;1,400&amp;display=swap"
   />
  <link rel="stylesheet" href="../../main.css"/>
  <link rel="stylesheet"
   href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/styles/gruvbox-dark.min.css"
   />
  <script
   src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/highlight.min.js"
   >
  </script>
  <script charset="UTF-8"
   src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/languages/ocaml.min.js"
   >
  </script><script>hljs.initHighlightingOnLoad();</script>
 </head>
 <body>
             
  <div style="display: flex; justify-content: center; align-content: center">
   
           
   <div style="max-width: 800px">
                                           
    <h1>Keeping your code clean</h1>
<p>Platform: ../Meet%20the%20tools%20c2a8723e00364f7b84870dd39706de39/ocp%20indent%208fe145b1c11b4b4cbef8fcad4f53c8d8.md, ../Meet%20the%20tools%20c2a8723e00364f7b84870dd39706de39/ocamlformat%20a16b7180fca54e2fb68fdbf4076fa354.md
REMOVE ME: Drafted: Yes
Related Workflows: Setting%20up%20useful%20OCaml%20tools%20for%20my%20editor%20fe47e509d4d445129d16f4688255d1c9.md
Short Description: Indent and reformat code to follow good styling
Users: ../Archetypical%20Users%20e3ac9b12886f4eb382d8d03da27ab6ff/Library%20Authors%2033d664dd3a4d487a9f707092c9bd4b6b.md, ../Archetypical%20Users%20e3ac9b12886f4eb382d8d03da27ab6ff/Application%20Developers%205158b951046948ae8080c5faae4c5485.md</p>
<h2>Overview</h2>
<hr />
<p>Having a unified approach to formatting is important for multiple reasons:</p>
<ul>
<li>Good for beginners: using tooling to help properly format, code-complete, syntax highlighting etc. removes this burden (somewhat) for new people lowering the barrier of entry for contributions.
</li>
<li>Easier to read: the code tends to be easier to read (or will be once the standard formatting is learnt) which helps onboard new people to a codebase and also discover bugs.
</li>
</ul>
<h2>Recommended Workflow</h2>
<hr />
<h3>OCamlformat</h3>
<p>OCamlformat tends to be the tool of choice for enforcing formatting styles in a project. It requires a very simple <code>.ocamlformat</code> file in the root of the project which can specify a few configuration options.</p>
<p>A bare bones file will contain the version of OCamlformat you want to use:</p>
<pre><code>version=0.14.2
</code></pre>
<p>From there, depending on your setup and editor, you can:</p>
<ul>
<li>Run <code>ocamlformat</code> on builds
</li>
<li>Run <code>ocamlformat</code> when saving a file (works very well with VS Code)
</li>
</ul>
<p>Formatting on save should just work if you have the OCaml Platform plugin installed in VS Code (see related workflows)</p>
<h3>Ocp-indent</h3>
<p>Ocp-indent is an indentation tool for OCaml. It is particularly useful for <em>vim</em> and <em>emacs.</em> If you followed the setup for those editors in the related workflow you should only need to add the following to your <code>.vimrc</code>.</p>
<pre><code>set rtp^=&quot;$(opam config var ocp-indent:share)/vim&quot;
</code></pre>
<h2>Real World Examples</h2>
<hr />
<p><a href="https://github.com/mirage/alcotest/blob/master/.ocamlformat">mirage/alcotest</a></p>
<p><a href="https://github.com/ocaml-ppx/ocamlformat/blob/master/.ocp-indent">ocaml-ppx/ocamlformat</a></p>

    
            
   </div>
               
  </div>
            
          
        </body>
</html>
